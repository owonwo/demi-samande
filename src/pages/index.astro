---
import { BioContent } from "../components/bio-content.tsx";
import { BooksBlock } from "../components/books-block.tsx";
import { ContactBlock } from "../components/contact-block.tsx";
import { MainHeader } from "../components/header.tsx";
import { MainHero } from "../components/hero.tsx";
import { NavMenu } from "../components/nav-menu.tsx";
import { PodcastBlock } from "../components/podcast-block.tsx";
import { SpeakerBlock } from "../components/speaker-block.tsx";
import { Testimonial } from "../components/testimonial.tsx";
import Layout from "../layouts/Layout.astro";
import {
  getBooks,
  getContent,
  getPodcastInfo,
  getTestimonies,
} from "../libs/fetchers";

const [hero, intro, speaker, podcast, testimonials, books] = await Promise.all([
  getContent({ key: "hero-content" }),
  getContent({ key: "intro-block" }),
  getContent({ key: "speaker-content" }),
  getPodcastInfo({ limit: 5 }),
  getTestimonies({ limit: 5 }),
  getBooks({ limit: 1 }),
]);
---

<Layout title="Demi Samande">
	<MainHeader position="sticky" client:load variant="transparent">
        <NavMenu client:only="react" />
    </MainHeader>
    <MainHero {...hero.data} />
    <BioContent {...intro.data} client:only="react" />
    <BooksBlock list={books} />
    <SpeakerBlock data={speaker.data} />
    <PodcastBlock client:load list={podcast} />
    <Testimonial client:load list={testimonials} />
    <ContactBlock />
</Layout>
